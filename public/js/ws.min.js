var ws,wsServer;const port=location.PORT||3e3;function checkWSStateAndReconnectIfNecessary(e){switch(e){case ws.CONNECTING:console.log("- WebSocket Connecting...");break;case ws.OPEN:console.log("- WebSocket Open :)");break;case ws.CLOSING:console.log("- WebSocket Closing...");break;case ws.CLOSED:console.log("* WebSocket Closed :("),connectToWS()}}"localhost"==window.location.hostname||"192.168.0.19"==window.location.hostname?(console.log("Websocket to localhost : "+window.location.hostname),wsServer="ws://"+window.location.hostname+":"+port):(console.log("Websocket to heroku : "+window.location.hostname),wsServer="wss://"+window.location.hostname+"/wss"),document.addEventListener("visibilitychange",function(){"visible"==document.visibilityState&&(checkWSStateAndReconnectIfNecessary(ws.readyState),setTimeout(function(){checkWSStateAndReconnectIfNecessary(ws.readyState)},3e3))}),document.addEventListener("onfocus",function(){checkWSStateAndReconnectIfNecessary(ws.readyState),setTimeout(function(){checkWSStateAndReconnectIfNecessary(ws.readyState)},3e3)});